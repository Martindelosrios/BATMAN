# content of : tox.ini , put in same dir as setup.py
[tox]
envlist = python3.8, python3.9, style, coverage, check-manifest

#python -m pybadges     --left-text="python"     --right-text="3.8, 3.9"     --whole-link="https://www.python.org/" > .badges/python.svg

[testenv]
deps = pytest
commands = pytest tests/ 

[testenv:style]
deps =
    flake8
    flake8-black
    flake8-isort
commands = flake8 --max-line-length=120 setup.py BATMAN/batman.py BATMAN/models.py 

[testenv:coverage]
deps =
    coverage
    pytest-cov
commands =
    pytest --cov=BATMAN/ --cov-report=json --cov-fail-under=90 \
    coverage-badge -o coverage.svg # to create badge
#[testenv:check-manifest]
#deps = check-manifest
#commands = check-manifest
